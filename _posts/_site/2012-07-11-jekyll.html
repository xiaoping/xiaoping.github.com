<h2 id='id1'>缘由</h2>

<p>曾经也有过写技术博客的冲动。申请过bloger，msn space。但总觉得这些blog如果写一些日常的感受还可以，但总是让人不能专注于写作，很小的编辑框，还要时刻注意换行，稍不注意，显示的格式就不对了。</p>

<p>直到最近，我在<a href='http://www.yangzhiping.com/tech/writing-space.html'>一篇blog</a>上知道了－－<a href='http://jekyllrb.com/'>Jekyll</a></p>

<p>老外写书已经采用编程和项目的方式了, <a href='http://pragprog.com/'>The Pragmatic Bookshelf</a> 的书都是这么写出来的，通过git做版本管理，通过Rake执行图书排版，甚至通过hudson进行每次提交进行排版。</p>

<p>Jekyll时ruby的一个项目。允许通过git进行版本管理，托管在github上作为一个项目。并通过静态页面进行访问。<a href='http://tom.preston-werner.com'>Tom</a>是Jekyll的作者，同时也是<a href='http://www.github.com'>github</a>的创始人，<a href='http://tom.preston-werner.com/2008/11/17/blogging-like-a-hacker.html'>这篇文章</a>中Tom介绍了开发jekyll的初衷。</p>

<h2 id='id2'>使用</h2>

<p>更详细的使用步骤参见<a href='http://jekyllbootstrap.com/'>这里</a></p>

<h3 id='post'>写post</h3>
<div>
  <pre><code class='bash'>$ rake post title=&quot;Jekyll-Intrduction&quot;</code></pre>
</div>
<h3 id='preview'>本地preview</h3>

<p>在_post目录中完成编辑，使用vim 本地启动server，进行预览,如果在预览的过程中又对文件进行了编辑，会动态生成新的网页。</p>
<div>
  <pre><code class='bash'>$ rake preview</code></pre>
</div>
<h3 id='github'>提交到github</h3>

<p>将文章提交到github上。如果使用了github提供的个人主页服务，则提交之后即能够访问。首先要创建一个 “<a href='http://github.com/zerdliu/zerdliu.github.com'>用户名.github.com</a>”的仓库.具体步骤<a href='http://jekyllbootstrap.com/usage/deployment-and-hosting.html'>参见</a></p>
<div>
  <pre><code class='bash'>$ git add .
$ git commit
$ git push</code></pre>
</div>
<h3 id='ftp'>通过ftp自动发布</h3>

<p>如果不是使用github提供的个人主页服务，使用自己托管的空间，通过ftp上传，可以通过下面的方式完成网站的部署</p>

<p><code>_deploy.sh</code></p>
<div>
  <pre><code class='bash'>function data_upload_lftp() {
	HOST=&quot;174.XXX.XXX.XXX&quot;
	USER=&quot;&quot;
	PASS=&quot;&quot;
	LCD=&quot;_site&quot;
	RCD=&quot;public_html/&quot;
	lftp -c &quot;
	set ssl:verify-certificate no
	set ftp:list-options -a;
	open ftp://$USER:$PASS@$HOST; 
	lcd $LCD;
	cd $RCD;
	mirror --reverse \
		--delete \
		--verbose \
		--exclude-glob a-dir-to-exclude/ \
		--exclude-glob a-file-to-exclude \
		--exclude-glob a-file-group-to-exclude* \
		--exclude-glob other-files-to-esclude&quot;
}  

data_upload_lftp</code></pre>
</div>
<p>然后执行</p>
<div>
  <pre><code class='bash'>$ bash _deploy.sh</code></pre>
</div>
<p>就完成blog的发布 可以把发布脚本写在git的post commit hook里面，但是我更习惯于多次提交，一次push，一次deploy的节奏。</p>

<p><a href='http://markdown.tw/'>markdown</a>格式类似于wiki格式又不同于wiki编写，比wiki的语法更简单，也够用了。 非常适合在vim中进行编辑，可以将注意力集中在写作上，不再分散精力。文章托管在github上，如果是重要一点的内容，可以申请付费的repo，托管私有项目。通过git进行版本管理，不再担心写错，想到哪，写到哪。也方便做备份。</p>